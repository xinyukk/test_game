# Couple Space - 甜蜜互动空间

这是一个为情侣设计的互动游戏平台，支持远程连接和多种互动游戏。

## 重构说明

本项目已从单文件结构重构为模块化架构，主要改进包括：

### 1. 目录结构
```
/workspace/
├── index.html          # 主页面
├── src/
│   ├── css/
│   │   └── main.css    # 样式文件
│   ├── js/
│   │   ├── constants.js    # 常量定义
│   │   ├── app.js          # 主应用逻辑
│   │   └── gameManager.js  # 游戏管理器
│   └── games/
│       ├── datematch.js    # 心动清单
│       ├── musicbox.js     # 双人乐章
│       ├── touchsync.js    # 指尖感应
│       ├── telepathy.js    # 默契大考验
│       ├── clickwar.js     # 爱心填充
│       ├── drawing.js      # 灵魂画手
│       └── tictactoe.js    # 爱的连线
```

### 2. 主要改进

- **模块化架构**：将原来的单一HTML文件拆分为多个模块，提高代码可维护性
- **错误处理**：增强了网络连接和游戏逻辑的错误处理
- **内存管理**：改进了音频上下文和连接对象的生命周期管理
- **用户体验**：优化了触摸事件处理和界面响应
- **代码可读性**：清晰的函数职责分离和注释

### 3. 技术栈
- HTML5/CSS3
- JavaScript (ES6+)
- Tailwind CSS
- PeerJS (WebRTC)
- Canvas API
- Web Audio API

### 4. 功能特性
- 实时P2P连接
- 7款互动游戏
- 响应式设计
- 触摸优化
- 音效反馈

## 使用方法

1. 打开 `index.html` 文件
2. 房主点击"创建小屋"获取房间号
3. 访客输入房间号加入
4. 选择游戏开始互动

## 游戏列表

1. **心动清单** - 探索彼此想做的浪漫小事
2. **双人乐章** - 远程合奏音乐
3. **指尖感应** - 在屏幕上寻找对方的位置
4. **默契大考验** - 测试彼此的默契程度
5. **爱心填充** - 手速比拼游戏
6. **灵魂画手** - 实时同步画布
7. **爱的连线** - 井字棋游戏

## 重构修复的Bug

- 修复了音频上下文未正确清理的问题
- 改进了网络连接稳定性
- 优化了触摸事件处理
- 修复了游戏状态同步问题
- 增强了错误处理和用户提示